<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dash.js Test</title>
  </head>

  <body>
    <video id="videoPlayer" width="100%" controls autoplay>
      <!-- <source src="/video" type="video/mp4" /> -->
    </video>
    <!-- <script src="http://cdn.dashjs.org/v3.1.0/dash.all.min.js"></script> -->
    <script src="//cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script>
      const video = document.getElementById('videoPlayer')
      const videoSrc = '/videos/teentitans.m3u8'

      if (Hls.isSupported()) {
        const hls = new Hls()

        hls.loadSource(videoSrc)
        hls.attachMedia(video)
        hls.on(Hls.Events.MANIFEST_PARSED, () => {
          video.play()
        })
      } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = videoSrc
        video.addEventListener('loadedmetadata', () => {
          video.play()
        })
      }
    </script>
  </body>
</html>
